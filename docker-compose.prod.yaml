version: '3.3'
services:
  nginx-proxy:
    logging:
        options:
            max-size: ${CONTAINER_DEFAULT_MAX_SIZE}
            max-file: ${CONTAINER_DEFAULT_MAX_FILE}
    env_file:
        - .env
        - .env.prod
    volumes:
        - $PWD/nginx/vhost.d:/etc/nginx/vhost.d
        - $PWD/nginx/html:/usr/share/nginx/html
        - /var/run/docker.sock:/tmp/docker.sock:ro
        - $PWD/nginx/certs:/etc/nginx/certs
        - $PWD/nginx/nginx.tmpl:/app/nginx.tmpl
        - $PWD/bin:/app/bin
